var module,countdown=function(e){function s(e,s){var t=e.getTime();return e.setMonth(e.getMonth()+s),Math.round((e.getTime()-t)/864e5)}function t(e){var s=e.getTime(),t=new Date(s);return t.setMonth(e.getMonth()+1),Math.round((t.getTime()-s)/864e5)}function n(e,s){if(s=s instanceof Date||null!==s&&isFinite(s)?new Date(+s):new Date,!e)return s;var t=+e.value||0;return t?(s.setTime(s.getTime()+t),s):((t=+e.milliseconds||0)&&s.setMilliseconds(s.getMilliseconds()+t),(t=+e.seconds||0)&&s.setSeconds(s.getSeconds()+t),(t=+e.minutes||0)&&s.setMinutes(s.getMinutes()+t),(t=+e.hours||0)&&s.setHours(s.getHours()+t),(t=+e.weeks||0)&&(t*=7),(t+=+e.days||0)&&s.setDate(s.getDate()+t),(t=+e.months||0)&&s.setMonth(s.getMonth()+t),(t=+e.millennia||0)&&(t*=10),(t+=+e.centuries||0)&&(t*=10),(t+=+e.decades||0)&&(t*=10),(t+=+e.years||0)&&s.setFullYear(s.getFullYear()+t),s)}function i(e,s){return y(e)+(1===e?d[s]:l[s])}function r(){}function o(e,s,n,i,r,o){if(0<=e[n]&&(s+=e[n],delete e[n]),1>=(s/=r)+1)return 0;if(0<=e[i]){switch(e[i]=+(e[i]+s).toFixed(o),i){case"seconds":if(60!==e.seconds||isNaN(e.minutes))break;e.minutes++,e.seconds=0;case"minutes":if(60!==e.minutes||isNaN(e.hours))break;e.hours++,e.minutes=0;case"hours":if(24!==e.hours||isNaN(e.days))break;e.days++,e.hours=0;case"days":if(7!==e.days||isNaN(e.weeks))break;e.weeks++,e.days=0;case"weeks":if(e.weeks!==t(e.refMonth)/7||isNaN(e.months))break;e.months++,e.weeks=0;case"months":if(12!==e.months||isNaN(e.years))break;e.years++,e.months=0;case"years":if(10!==e.years||isNaN(e.decades))break;e.decades++,e.years=0;case"decades":if(10!==e.decades||isNaN(e.centuries))break;e.centuries++,e.decades=0;case"centuries":if(10!==e.centuries||isNaN(e.millennia))break;e.millennia++,e.centuries=0}return 0}return s}function a(e,n,i,r,a,u){var d=new Date;e.start=n=n||d,e.end=i=i||d,e.units=r,e.value=i.getTime()-n.getTime(),0>e.value&&(d=i,i=n,n=d),e.refMonth=new Date(n.getFullYear(),n.getMonth(),15,12,0,0);try{var l;for(e.millennia=0,e.centuries=0,e.decades=0,e.years=i.getFullYear()-n.getFullYear(),e.months=i.getMonth()-n.getMonth(),e.weeks=0,e.days=i.getDate()-n.getDate(),e.hours=i.getHours()-n.getHours(),e.minutes=i.getMinutes()-n.getMinutes(),e.seconds=i.getSeconds()-n.getSeconds(),e.milliseconds=i.getMilliseconds()-n.getMilliseconds(),0>e.milliseconds?(l=g(-e.milliseconds/1e3),e.seconds-=l,e.milliseconds+=1e3*l):1e3<=e.milliseconds&&(e.seconds+=w(e.milliseconds/1e3),e.milliseconds%=1e3),0>e.seconds?(l=g(-e.seconds/60),e.minutes-=l,e.seconds+=60*l):60<=e.seconds&&(e.minutes+=w(e.seconds/60),e.seconds%=60),0>e.minutes?(l=g(-e.minutes/60),e.hours-=l,e.minutes+=60*l):60<=e.minutes&&(e.hours+=w(e.minutes/60),e.minutes%=60),0>e.hours?(l=g(-e.hours/24),e.days-=l,e.hours+=24*l):24<=e.hours&&(e.days+=w(e.hours/24),e.hours%=24);0>e.days;)e.months--,e.days+=s(e.refMonth,1);if(7<=e.days&&(e.weeks+=w(e.days/7),e.days%=7),0>e.months?(l=g(-e.months/12),e.years-=l,e.months+=12*l):12<=e.months&&(e.years+=w(e.months/12),e.months%=12),10<=e.years&&(e.decades+=w(e.years/10),e.years%=10,10<=e.decades&&(e.centuries+=w(e.decades/10),e.decades%=10,10<=e.centuries&&(e.millennia+=w(e.centuries/10),e.centuries%=10))),n=0,!(1024&r)||n>=a?(e.centuries+=10*e.millennia,delete e.millennia):e.millennia&&n++,!(512&r)||n>=a?(e.decades+=10*e.centuries,delete e.centuries):e.centuries&&n++,!(256&r)||n>=a?(e.years+=10*e.decades,delete e.decades):e.decades&&n++,!(128&r)||n>=a?(e.months+=12*e.years,delete e.years):e.years&&n++,!(64&r)||n>=a?(e.months&&(e.days+=s(e.refMonth,e.months)),delete e.months,7<=e.days&&(e.weeks+=w(e.days/7),e.days%=7)):e.months&&n++,!(32&r)||n>=a?(e.days+=7*e.weeks,delete e.weeks):e.weeks&&n++,!(16&r)||n>=a?(e.hours+=24*e.days,delete e.days):e.days&&n++,!(8&r)||n>=a?(e.minutes+=60*e.hours,delete e.hours):e.hours&&n++,!(4&r)||n>=a?(e.seconds+=60*e.minutes,delete e.minutes):e.minutes&&n++,!(2&r)||n>=a?(e.milliseconds+=1e3*e.seconds,delete e.seconds):e.seconds&&n++,!(1&r)||n>=a){var c=o(e,0,"milliseconds","seconds",1e3,u);if(c&&(c=o(e,c,"seconds","minutes",60,u))&&(c=o(e,c,"minutes","hours",60,u))&&(c=o(e,c,"hours","days",24,u))&&(c=o(e,c,"days","weeks",7,u))&&(c=o(e,c,"weeks","months",t(e.refMonth)/7,u))){r=c;var m=e.refMonth,h=m.getTime(),f=new Date(h);if(f.setFullYear(m.getFullYear()+1),(c=o(e,r,"months","years",Math.round((f.getTime()-h)/864e5)/t(e.refMonth),u))&&(c=o(e,c,"years","decades",10,u))&&(c=o(e,c,"decades","centuries",10,u))&&(c=o(e,c,"centuries","millennia",10,u)))throw Error("Fractional unit overflow")}}}finally{delete e.refMonth}return e}function u(e,s,t,i,o){var u;t=+t||222,i=0<i?i:NaN,o=0<o?20>o?Math.round(o):20:0;var d=null;"function"==typeof e?(u=e,e=null):e instanceof Date||(null!==e&&isFinite(e)?e=new Date(+e):("object"==typeof d&&(d=e),e=null));var l=null;if("function"==typeof s?(u=s,s=null):s instanceof Date||(null!==s&&isFinite(s)?s=new Date(+s):("object"==typeof s&&(l=s),s=null)),d&&(e=n(d,s)),l&&(s=n(l,e)),!e&&!s)return new r;if(!u)return a(new r,e,s,t,i,o);var c;d=1&t?1e3/30:2&t?1e3:4&t?6e4:8&t?36e5:16&t?864e5:6048e5;return(l=function(){u(a(new r,e,s,t,i,o),c)})(),c=setInterval(l,d)}var d,l,c,m,h,f,y,p,g=Math.ceil,w=Math.floor;r.prototype.toString=function(e){var s=p(this),t=s.length;return t?1===t?s[0]:(e=c+s.pop(),s.join(m)+e):e?""+e:h},r.prototype.toHTML=function(e,s){e=e||"span";var t=p(this),n=t.length;if(!n)return(s=s||h)?"<"+e+">"+s+"</"+e+">":s;for(var i=0;i<n;i++)t[i]="<"+e+">"+t[i]+"</"+e+">";return 1===n?t[0]:(n=c+t.pop(),t.join(m)+n)},r.prototype.addTo=function(e){return n(this,e)},p=function(e){var s=[],t=e.millennia;return t&&s.push(f(t,10)),(t=e.centuries)&&s.push(f(t,9)),(t=e.decades)&&s.push(f(t,8)),(t=e.years)&&s.push(f(t,7)),(t=e.months)&&s.push(f(t,6)),(t=e.weeks)&&s.push(f(t,5)),(t=e.days)&&s.push(f(t,4)),(t=e.hours)&&s.push(f(t,3)),(t=e.minutes)&&s.push(f(t,2)),(t=e.seconds)&&s.push(f(t,1)),(t=e.milliseconds)&&s.push(f(t,0)),s},u.MILLISECONDS=1,u.SECONDS=2,u.MINUTES=4,u.HOURS=8,u.DAYS=16,u.WEEKS=32,u.MONTHS=64,u.YEARS=128,u.DECADES=256,u.CENTURIES=512,u.MILLENNIA=1024,u.DEFAULTS=222,u.ALL=2047;var M=u.setFormat=function(e){if(e){if("singular"in e||"plural"in e){var s=e.singular||[];s.split&&(s=s.split("|"));var t=e.plural||[];t.split&&(t=t.split("|"));for(var n=0;10>=n;n++)d[n]=s[n]||d[n],l[n]=t[n]||l[n]}"string"==typeof e.last&&(c=e.last),"string"==typeof e.delim&&(m=e.delim),"string"==typeof e.empty&&(h=e.empty),"function"==typeof e.formatNumber&&(y=e.formatNumber),"function"==typeof e.formatter&&(f=e.formatter)}},N=u.resetFormat=function(){d=" millisecond; second; minute; hour; day; week; month; year; decade; century; millennium".split(";"),l=" milliseconds; seconds; minutes; hours; days; weeks; months; years; decades; centuries; millennia".split(";"),c=" and ",m=", ",h="",y=function(e){return e},f=i};return u.setLabels=function(e,s,t,n,i,r,o){M({singular:e,plural:s,last:t,delim:n,empty:i,formatNumber:r,formatter:o})},u.resetLabels=N,N(),e&&e.exports?e.exports=u:"function"==typeof window.define&&void 0!==window.define.amd&&window.define("countdown",[],function(){return u}),u}(module);
